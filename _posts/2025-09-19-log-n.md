---
layout: post
title: "[CLRS] 동적 프로그래밍"
date: 2025-09-19 10:00:00 +0900
categories:
  - algorithm
related_posts:
---

# 알고리즘의 기초 - 동적 프로그래밍(DP)

동적 프로그래밍에서 프로그래밍은 컴퓨터 코드를 작성하는게 아니라 어떠한 table을 작성하는 것을 의미한다.

앞서 분할 정복에서 어떤 문제를 disjoint한 sub problem으로 나눠서 재귀적으로 푸는 방법을 공부했는데,
동적 프로그래밍(이하 DP)는 sub problem들이 disjoint하지 않고 서로 겹치는 sub problem이 많을 때 유효하다.

겹치는 sub problem을 처음에는 당연히 계산해야겠지만, 그 계산 결과를 표에 기록해두고 나중에 동일한 sub problem이 나왔을 때
표에서 결과만 가져와서 사용하면 불필요하게 반복되는 계산을 줄일 수 있다.

<!-- prettier-ignore-start -->

- TOC
{:toc}
<!-- prettier-ignore-end -->

## 0. 최적화 문제에서의 DP

보통 DP는 최적화 문제에 사용된다는 얘기

### 1) 최적해(An Optimal Solution)

최적화 문제는 여러개의 해를 가질 수 있는데, 이 중에서 최적값을 갖는 해를 최적해라고 함

최적해를 영어로 the optimal solution이 아니라 an optimal solution이라고 하는데,
최적값을 갖는 해가 여러개일 수 있어서 그럼

### 2) DP 알고리즘

최적해를 찾는 DP 알고리즘을 만들 때 다음과 같은 절차를 따른다.

1. 최적해의 구조 파악
2. 최적해의 값을 재귀적으로 정의(점화식 세우기)
3. 최적해의 값 계산(보통 bottom-up으로 함)
4. 계산된 값으로 최적해 구성

CLRS에서는 이렇게 4단계로 구성했는데, 보통 알고리즘 문제를 풀 때는

1. 재귀식 세우고 DP table 채우는 코드 작성
2. DP table에서 최적해 가져오기

이 정도로 생각하면 되는 것 같다. 두 단계를 하나로 묶은거라 사실 동일한 과정을 거치는 것이다.

## 1. 막대 자르기

이론적인 단계 구성을 알았으니, 이제 DP 알고리즘으로 어떻게 최적해를 구하는지 실습을 해보자.

### 1) 문제 구조

막대 자르기 문제는 수익을 최대화하는 것이 목적이다. 막대 길이별로 가격이 다르게 책정되어 있을 때, 주어진 막대를 어떻게 잘라야 가장 높은 가격에 팔 수 있는지 찾는 것이 문제의 목표다.

CLRS에 있는 원문을 보는게 이해가 빠를 수도 있다.

> Given a rod of length $n$ inches and a table of prices
> $p_i$ for $i = 1, 2, \ldots, n$, determine the maximum revenue
> $r_n$ obtainable by cutting up the rod and selling the pieces.

$r_n$은 그냥 수익이 아니라 길이 n의 막대로 낼 수 있는 최대 수익, 즉 최적값이다.

### 2) 막대를 자르는 경우의 수

최적값을 갖는 경우의 수가 여러 개일 수도 있다면, 모든 경우의 수를 확인해보는게 가장 확실할 것이다. 그렇다면 길이 n의 막대를 자르는 모든 경우의 수는 몇 가지일까?

자를 수 있는 부위가 $n-1$개이고, 각 부위별로 자를지 말지 독립적으로 결정할 수 있기 떄문에 총 경우의 수는 $2^{n-1}$가지라고 할 수 있다.

길이 100이라고 해도 100만 가지, 길이 1000이면 10억 가지이다.

경우의 수를 계산해서 우리가 알 수 있는건 Brute force하게는 풀 수 없다는거다.

### 3) 최적해 구조 파악

그래서 CLRS에서는 $p_i$가 주어진 상황에서 $r_i$를 $i=1$부터 귀납적으로 구하면서 최적해의 구조를 파악하였는데, 결론부터 얘기하면 다음 식으로 일반화할 수 있다.

$ r_n = max(p_n, r_1 + r_{n-1}, r_2 + r_{n-2},\dots, r_{n-1} + r_1) $






## 2. Overlapping Subproblems and Optimal Structure
